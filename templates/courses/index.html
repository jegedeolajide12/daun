{% extends 'navbar.html' %}
{% load static %}

{% block content %}

<!-- Enhanced Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content text-center">
            <h1 class="hero-title">Advance Your Career with Expert-Led Courses</h1>
            <p class="hero-subtitle">Master in-demand skills through project-based learning</p>
            
            <div class="hero-search">
                <div class="search-container">
                    <input type="text" placeholder="What do you want to learn today?" 
                           class="search-input">
                    <button class="search-btn">Search Courses</button>
                </div>
            </div>

            <div class="hero-stats">
                <div class="stat-item">
                    <div class="stat-number">180K+</div>
                    <div class="stat-label">Courses</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">25K+</div>
                    <div class="stat-label">Instructors</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">âˆž</div>
                    <div class="stat-label">Access</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Courses Carousel -->
<section class="featured-courses">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Most Popular Courses</h2>
            <a href="#" class="see-all">See all <i class="fas fa-arrow-right"></i></a>
        </div>

        <div class="swiper courses-carousel">
            <div class="swiper-wrapper">
                {% for course in courses %}
                <div class="swiper-slide">
                    {% include "components/course_cards.html" %}
                </div>
                {% endfor %}
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>
</section>


<section class="course-categories">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Browse by Category</h2>
            <a href="#" class="see-all">All categories</a>
        </div>
        
        <div class="accordion" id="categoriesAccordion">
            {% for category in categories %}
            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" 
                            data-bs-toggle="collapse" 
                            data-bs-target="#category{{ category.id }}"
                            aria-expanded="false">
                        <i class="fas fa-{{ category.icon }} me-3"></i>
                        {{ category.name }}
                    </button>
                </h3>
                <div id="category{{ category.id }}" 
                     class="accordion-collapse collapse" 
                     data-bs-parent="#categoriesAccordion">
                    <div class="accordion-body">
                        <div class="row g-3">
                            {% for subcat in category.subcategories.all %}
                            <div class="col-6 col-md-4 col-lg-3">
                                <a href="#" class="category-card">
                                    <i class="fas fa-{{ subcat.icon }}"></i>
                                    <span>{{ subcat.name }}</span>
                                </a>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Why Choose Section -->
<section class="value-props">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Why Learn with Us?</h2>
            <p class="section-subtitle">Join 10M+ learners worldwide</p>
        </div>

        <div class="value-grid">
            <div class="value-card">
                <div class="value-icon">
                    <i class="fas fa-certificate"></i>
                </div>
                <h3>Career Certificates</h3>
                <p>Earn industry-recognized credentials</p>
            </div>
            
            <!-- Repeat similar value cards -->
        </div>
    </div>
</section>

<!-- Live Events Section -->
<section class="live-events">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Upcoming Live Events</h2>
            <a href="#" class="see-all">View calendar <i class="fas fa-arrow-right"></i></a>
        </div>

        <div class="events-grid">
            {% for event in events %}
            <div class="event-card">
                {% include "components/events_card.html" %}
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Testimonials Carousel -->
<section class="testimonials">
    <div class="container">
        <h2 class="section-title">What Our Learners Say</h2>
        
        <div class="swiper testimonials-carousel">
            <div class="swiper-wrapper">
                {% for testimonial in testimonials %}
                <div class="swiper-slide">
                    <div class="testimonial-card">
                        <p class="testimonial-text">"{{ testimonial.text }}"</p>
                        <div class="testimonial-author">
                            <img src="{{ testimonial.author.image.url }}" 
                                 alt="{{ testimonial.author.name }}">
                            <div class="author-info">
                                <h4>{{ testimonial.author.name }}</h4>
                                <p>{{ testimonial.author.position }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </div>
</section>

<!-- Instructor Spotlight -->
<section class="instructors">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Featured Instructors</h2>
            <a href="#" class="see-all">Meet all experts <i class="fas fa-arrow-right"></i></a>
        </div>

        <div class="instructor-grid">
            {% for instructor in featured_instructors %}
            <div class="instructor-card">
                <img src="{{ instructor.profile.image.url }}" 
                     alt="{{ instructor.name }}">
                <h3>{{ instructor.name }}</h3>
                <p class="specialty">{{ instructor.specialty }}</p>
                <p class="courses-count">{{ instructor.course_count }} courses</p>
                <a href="#" class="btn btn-outline">View Profile</a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}