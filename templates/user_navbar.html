<!DOCTYPE html>
<html lang="en">
{% load static %}
<!-- Mirrored from educhamp.themetrades.com/demo/admin/courses.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Feb 2019 13:10:19 GMT -->
<head>

	<!-- META ============================================= -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="keywords" content="" />
	<meta name="author" content="" />
	<meta name="robots" content="" />
	
	<!-- DESCRIPTION -->
	<meta name="description" content="EduChamp : Education HTML Template" />
	
	<!-- OG -->
	<meta property="og:title" content="EduChamp : Education HTML Template" />
	<meta property="og:description" content="EduChamp : Education HTML Template" />
	<meta property="og:image" content="" />
	<meta name="format-detection" content="telephone=no">
	
	<!-- FAVICONS ICON ============================================= -->
	<link rel="icon" href="../error-404.html" type="image/x-icon" />
	<link rel="shortcut icon" type="image/x-icon" href="{% static "asset/images/favicon.png" %}" />
	
	<!-- PAGE TITLE HERE ============================================= -->
	<title>{% block title %} {% endblock %}</title>
	
	<!-- MOBILE SPECIFIC ============================================= -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!--[if lt IE 9]>
	<script src="asset/js/html5shiv.min.js"></script>
	<script src="asset/js/respond.min.js"></script>
	<![endif]-->
	
	<!-- All PLUGINS CSS ============================================= -->
	<link rel="stylesheet" type="text/css" href="{% static "asset/css/assets.css" %}">
	<link rel="stylesheet" type="text/css" href="{% static "asset/vendors/calendar/fullcalendar.css" %}">
	<link rel="stylesheet" type="text/css" href="{% static "asset/vendors/summernote/summernote.css" %}">
	<link rel="stylesheet" type="text/css" href="{% static "asset/vendors/file-upload/imageuploadify.min.css" %}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/css/bootstrap-select.min.css">
	
	<!-- TYPOGRAPHY ============================================= -->
	<link rel="stylesheet" type="text/css" href="{% static "asset/css/typography.css" %}">
	
	<!-- SHORTCODES ============================================= -->
	<link rel="stylesheet" type="text/css" href="{% static "asset/css/shortcodes/shortcodes.css" %}">
	
	<!-- STYLESHEETS ============================================= -->
	<link rel="stylesheet" type="text/css" href="{% static "asset/css/style.css" %}">
	<link rel="stylesheet" type="text/css" href="{% static "asset/css/dashboard.css" %}">
	<link class="skin" rel="stylesheet" type="text/css" href="{% static "asset/css/color/color-1.css" %}">
	
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>
<body class="ttr-opened-sidebar ttr-pinned-sidebar">
	<div id="loading-icon-bx"></div>

	<div class="ttr-sidebar">
		<div class="ttr-sidebar-wrapper content-scroll">
			<!-- side menu logo start -->
			<div class="ttr-sidebar-logo">
				<a href="#"><img alt="" src="{% static "asset/images/logo.png" %}" width="122" height="27"></a>
				<!-- <div class="ttr-sidebar-pin-button" title="Pin/Unpin Menu">
					<i class="material-icons ttr-fixed-icon">gps_fixed</i>
					<i class="material-icons ttr-not-fixed-icon">gps_not_fixed</i>
				</div> -->
				<div class="ttr-sidebar-toggle-button">
					<i class="ti-arrow-left"></i>
				</div>
			</div>
			<!-- side menu logo end -->
			<!-- sidebar menu start -->
			<nav class="ttr-sidebar-navi">
				<ul>
					<li>
						<a href="{% url "account:dashboard" %}" class="ttr-material-button">
							<span class="ttr-icon"><i class="ti-home"></i></span>
							<span class="ttr-label">Dashboard</span>
						</a>
					</li>
					<li>
						<a href="{% url "course:home" %}" class="ttr-material-button">
							<span class="ttr-icon"><i class="ti-book"></i></span>
							<span class="ttr-label">Courses</span>
						</a>
					</li>
					<li>
						<a href="#" class="ttr-material-button">
							<span class="ttr-icon"><i class="ti-email"></i></span>
							<span class="ttr-label">Mailbox</span>
							<span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
						</a>
						<ul>
							<li>
								<a href="{% url "account:mail_inbox" %}" class="ttr-material-button"><span class="ttr-label">Mail Box</span></a>
							</li>
							<li>
								<a href="mailbox-compose.html" class="ttr-material-button"><span class="ttr-label">Compose</span></a>
							</li>
							<li>
								<a href="mailbox-read.html" class="ttr-material-button"><span class="ttr-label">Mail Read</span></a>
							</li>
						</ul>
					</li>
					<li>
						<a href="#" class="ttr-material-button">
							<span class="ttr-icon"><i class="ti-calendar"></i></span>
							<span class="ttr-label">Calendar</span>
							<span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
						</a>
						<ul>
							<li>
								<a href="basic-calendar.html" class="ttr-material-button"><span class="ttr-label">Basic Calendar</span></a>
							</li>
							<li>
								<a href="list-view-calendar.html" class="ttr-material-button"><span class="ttr-label">List View</span></a>
							</li>
						</ul>
					</li>
					<li>
						<a href="#" class="ttr-material-button">
							<span class="ttr-icon"><i class="ti-bookmark-alt"></i></span>
							<span class="ttr-label">Bookmarks</span>
						</a>
					</li>
					<li>
						<a href="review.html" class="ttr-material-button">
							<span class="ttr-icon"><i class="ti-comments"></i></span>
							<span class="ttr-label">Review</span>
						</a>
					</li>
					<li>
						<a href="add-listing.html" class="ttr-material-button">
							<span class="ttr-icon"><i class="ti-layout-accordion-list"></i></span>
							<span class="ttr-label">Add listing</span>
						</a>
					</li>
					<li>
						<a href="{% url "account:instructor_profile" request.user.id %}" class="ttr-material-button">
							<span class="ttr-icon"><i class="ti-user"></i></span>
							<span class="ttr-label">My Profile</span>
						</a>
					</li>
					<li>
						<a href="#" class="ttr-material-button">
							<span class="ttr-icon"><i class="ti-settings"></i></span>
							<span class="ttr-label">Settings</span>
						</a>
					</li>
					<li class="ttr-seperate"></li>
				</ul>
				<!-- sidebar menu end -->
			</nav>
			<!-- sidebar menu end -->
		</div>
	</div>
	
	<!-- header start -->
	<header class="ttr-header">
		<div class="ttr-header-wrapper">
			<!--sidebar menu toggler start -->
			<div class="ttr-toggle-sidebar ttr-material-button">
				<i class="ti-close ttr-open-icon"></i>
				<i class="ti-menu ttr-close-icon"></i>
			</div>
			<!--sidebar menu toggler end -->
			<!--logo start -->
			<div class="ttr-logo-box">
				<div>
					<a href="{% url "student:student_home" %}" class="ttr-logo">
						<img alt="" class="ttr-logo-mobile" src="{% static "asset/images/logo-mobile.png" %}" width="30" height="30">
						<img alt="" class="ttr-logo-desktop" src="{% static "asset/images/logo-white.png" %}" width="160" height="27">
					</a>
				</div>
			</div>
			<!--logo end -->
			<div class="ttr-header-menu">
				<!-- header left menu start -->
				<ul class="ttr-header-navigation">
					<li style="flex: 1; text-align: center; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); color: white;">
						{% if request.user.first_name %}
							<span style="font-size: 18px; font-weight: bold;">Hello {{ request.user.first_name }} ðŸ‘‹</span>
						{% else %}
							<span style="font-size: 18px; font-weight: bold;">Hello {{ request.user.username }} ðŸ‘‹</span>
						{% endif %}
					</li>
				</ul>
				<!-- header left menu end -->
			</div>
			<div class="ttr-header-right ttr-with-seperator">
				<!-- header right menu start -->
				<ul class="ttr-header-navigation">
					<li>
						<a href="#" class="ttr-material-button ttr-search-toggle"><i class="fa fa-search"></i></a>
					</li>
					<li class="notification-menu-item">
						<a href="#" class="ttr-material-button notification-icon-wrapper" onclick="handleNotificationClick(event)">
							<i class="fa fa-bell" onclick="toggleNotifications(event)"></i>
							{% if unread_notifications %}
								<span class="notification-badge">{{ unread_notifications|length }}</span>
							{% endif %}
						</a>
						
						<div class="ttr-header-submenu notification-container hidden">
							<div class="notification-header">
								<h4>Notifications</h4>
								<button class="mark-all-read" onclick="markAllNotificationsRead()">
									Mark All as Read
								</button>
							</div>
							
							<div class="notification-list">
								{% for notification in recent_notifications %}
									<div class="notification-item {% if not notification.is_read %}unread{% endif %}" 
										data-notification-id="{{ notification.id }}"
										onclick="markNotificationAsRead(this)">
										<div class="notification-icon">
											<i class="fas fa-bell{% if not notification.is_read %}-slash{% endif %}"></i>
										</div>
										<div class="notification-content">
											<p class="notification-message">{{ notification.message }}</p>
											<div class="notification-meta">
												<span class="notification-time">
													{{ notification.created_at|timesince }} ago
												</span>
												{% if not notification.is_read %}
												<span class="unread-badge">New</span>
												{% endif %}
											</div>
										</div>
									</div>
								{% empty %}
									<div class="empty-notifications">
										<i class="fas fa-bell-slash"></i>
										<p>No new notifications</p>
									</div>
								{% endfor %}
							</div>
						</div>
					</li>
					<li>
						{% if request.user.is_authenticated %}
							{% if request.user.profile_picture %}
								<a href="#" class="ttr-material-button ttr-submenu-toggle"><span class="ttr-user-avatar"><img alt="" src="{{ request.user.profile_picture.url }}" width="32" height="32"></span></a>
							{% else %}
								<a href="#" class="ttr-material-button ttr-submenu-toggle"><span class="ttr-user-avatar"><img alt="" src="{% static "asset/images/empty_profile.jpg" %}" width="32" height="32"></span></a>
							{% endif %}
						{% endif %}
							<div class="ttr-header-submenu">
							<ul>
								<li><a href="user-profile.html">My profile</a></li>
								<li><a href="list-view-calendar.html">Activity</a></li>
								<li><a href="mailbox.html">Messages</a></li>
								<li><a href="{% url "account_logout" %}">Logout</a></li>
							</ul>
						</div>
					</li>
					<li class="ttr-hide-on-mobile">
						<a href="#" class="ttr-material-button"><i class="ti-layout-grid3-alt"></i></a>
						<div class="ttr-header-submenu ttr-extra-menu">
							<a href="#">
								<i class="fa fa-music"></i>
								<span>Musics</span>
							</a>
							<a href="#">
								<i class="fa fa-youtube-play"></i>
								<span>Videos</span>
							</a>
							<a href="#">
								<i class="fa fa-envelope"></i>
								<span>Emails</span>
							</a>
							<a href="#">
								<i class="fa fa-book"></i>
								<span>Reports</span>
							</a>
							<a href="#">
								<i class="fa fa-smile-o"></i>
								<span>Persons</span>
							</a>
							<a href="#">
								<i class="fa fa-picture-o"></i>
								<span>Pictures</span>
							</a>
						</div>
					</li>
				</ul>
				<!-- header right menu end -->
			</div>
			<!--header search panel start -->
			<div class="ttr-search-bar">
				<form class="ttr-search-form">
					<div class="ttr-search-input-wrapper">
						<input type="text" name="qq" placeholder="search something..." class="ttr-search-input">
						<button type="submit" name="search" class="ttr-search-submit"><i class="ti-arrow-right"></i></button>
					</div>
					<span class="ttr-search-close ttr-search-toggle">
						<i class="ti-close"></i>
					</span>
				</form>
			</div>
			<!--header search panel end -->
		</div>
		{% if messages %}
			<div class="messages">
				{% for message in messages %}
					<div class="alert alert-{{ message.tags }}">
						{{ message }}
					</div>
				{% endfor %}
			</div>
			<script>
				// Automatically hide messages after 5 seconds
				setTimeout(function() {
					const messages = document.querySelector('.messages');
					if (messages) {
						messages.style.transition = 'opacity 0.5s ease';
						messages.style.opacity = '0';
						setTimeout(() => messages.remove(), 500); // Remove from DOM after fade-out
					}
				}, 5000); // 5000ms = 5 seconds
			</script>
		{% endif %}

	</header>
	<!-- header end -->
	 <!-- Left sidebar menu start -->
	<!-- Left sidebar menu end -->

{% block content %}
{% endblock %}
<script src="{% static "asset/js/jquery.min.js" %}"></script>
<script src="{% static "asset/vendors/bootstrap/js/popper.min.js" %}"></script>
<script src="{% static "asset/vendors/bootstrap/js/bootstrap.min.js" %}"></script>
<script src="{% static "asset/vendors/bootstrap-select/bootstrap-select.min.js" %}"></script>
<script src="{% static "asset/vendors/bootstrap-touchspin/jquery.bootstrap-touchspin.js" %}"></script>
<script src="{% static "asset/vendors/magnific-popup/magnific-popup.js" %}"></script>
<script src="{% static "asset/vendors/counter/waypoints-min.js" %}"></script>
<script src="{% static "asset/vendors/counter/counterup.min.js" %}"></script>
<script src="{% static "asset/vendors/imagesloaded/imagesloaded.js" %}"></script>
<script src="{% static "asset/vendors/masonry/masonry.js" %}"></script>
<script src="{% static "asset/vendors/masonry/filter.js" %}"></script>
<script src="{% static "asset/vendors/owl-carousel/owl.carousel.js" %}"></script>
<script src='{% static 'asset/vendors/scroll/scrollbar.min.js' %}'></script>
<script src="{% static "asset/js/functions.js" %}"></script>
<script src="{% static "asset/vendors/chart/chart.min.js" %}"></script>
<script src="{% static "asset/js/admin.js" %}"></script>

<script src="{% static 'asset/vendors/calendar/moment.min.js' %}"></script>
<script src="{% static 'asset/vendors/calendar/fullcalendar.js' %}"></script>
<script src="{% static "asset/vendors/summernote/summernote.js" %}"></script>
<script src="{% static "asset/vendors/file-upload/imageuploadify.min.js" %}"></script>
<script src='{% static 'asset/vendors/switcher/switcher.js' %}'></script>

<script>
    var chartLabels = JSON.parse('{{ labels|default:"[]"|safe }}'); // Default to an empty array
    var chartData = JSON.parse('{{ data|default:"[]"|safe }}');     // Default to an empty array
</script>
<script>
    console.log("Chart Labels:", JSON.parse('{{ labels|default:"[]"|safe }}'));
    console.log("Chart Data:", JSON.parse('{{ data|default:"[]"|safe }}'));
</script>
<script>
    console.log("Chart Labels:", JSON.parse('{{ instructor_labels|default:"[]"|safe }}'));
    console.log("Chart Data:", JSON.parse('{{ instructor_data|default:"[]"|safe }}'));
</script>
<script>
	$(document).ready(function() {
  
	  $('#calendar').fullCalendar({
		header: {
		  left: 'prev,next today',
		  center: 'title',
		  right: 'month,agendaWeek,agendaDay,listWeek'
		},
		defaultDate: moment().format('YYYY-MM-DD'), // Set to today's date
		navLinks: true, // can click day/week names to navigate views
  
		weekNumbers: true,
		weekNumbersWithinDays: true,
		weekNumberCalculation: 'ISO',
  
		editable: true,
		eventLimit: true, // allow "more" link when too many events
		events: calendarEvents, // Use dynamic events data
	  });
  
	});
  
</script>
<script>
	var calendarEvents = JSON.parse('{{ tasks|default:"[]"|safe }}');
</script>
<script>
	var instructorLabels = JSON.parse('{{ instructor_labels|default:"[]"|safe }}');
    var instructorData = JSON.parse('{{ instructor_data|default:"[]"|safe }}'); 
</script>
<script>
	// Get the URL pattern once when the page loads
	const STUDENT_DETAIL_URL = "{% url 'student:student_detail' 0 %}";  // 0 is a placeholder
	</script>
<!-- manage_student.html Student detail modal script -->
<script>
function handleNotificationClick(event) {
    event.preventDefault();
    const container = event.currentTarget.nextElementSibling;
    
    if (container.classList.contains('hidden')) {
        container.classList.remove('hidden');
        container.style.opacity = 1;
        container.style.transform = 'translateY(0)';
    } else {
        container.classList.add('hidden');
        setTimeout(() => {
            container.style.opacity = 0;
            container.style.transform = 'translateY(-10px)';
        }, 200);
    }
    
    markAllNotificationsRead();
}
function toggleNotifications(event) {
    // Prevent this from interfering with mark-as-read functionality
    event.stopPropagation();
    
    const container = document.querySelector('.notification-container');
    const bellIcon = document.querySelector('.fa-bell');
    
    // Toggle visibility
    container.classList.toggle('hidden');
    
    // Only add click-outside listener when showing
    if (!container.classList.contains('hidden')) {
        // Close when clicking outside
        const clickHandler = function(e) {
            if (!container.contains(e.target) && e.target !== bellIcon) {
                container.classList.add('hidden');
                document.removeEventListener('click', clickHandler);
            }
        };
        document.addEventListener('click', clickHandler);
    }
    
    // Prevent default if this is a mobile touch event
    if (window.innerWidth <= 768) {
        event.preventDefault();
    }
}
function markAllNotificationsRead() {
    fetch('/notifications/mark-all-read/', {
        method: 'POST',
        headers: {
            'X-Requested-With': 'XMLHttpRequest',
            'X-CSRFToken': '{{ csrf_token }}'
        }
    })
    .then(response => {
        if (response.ok) {
            document.querySelectorAll('.notification-menu-item').forEach(item => {
                item.classList.add('marking-read');
                setTimeout(() => {
                    item.classList.remove('unread', 'marking-read');
                    item.querySelector('.fa-bell').classList.replace('fa-bell', 'fa-bell-slash');
                }, 300);
            });
            
            document.querySelectorAll('.unread-badge').forEach(badge => {
                badge.classList.add('fade-out');
                setTimeout(() => badge.remove(), 300);
            });
            
            const globalBadge = document.querySelector('.notification-badge');
            if (globalBadge) {
                globalBadge.classList.add('update');
                setTimeout(() => {
                    globalBadge.classList.remove('update');
                    if (parseInt(globalBadge.textContent) === 1) {
                        globalBadge.remove();
                    }
                }, 200);
            }
        }
    })
    .catch(error => console.error('Error:', error));
}

function markNotificationAsRead(element) {
    const notificationId = element.dataset.notificationId;
    fetch(`/notifications/${notificationId}/mark-read/`, {
        method: 'POST',
        headers: {
            'X-Requested-With': 'XMLHttpRequest',
            'X-CSRFToken': '{{ csrf_token }}'
        }
    })
    .then(response => {
        if (response.ok) {
            element.classList.add('marking-read');
            setTimeout(() => {
                element.classList.remove('unread', 'marking-read');
                element.querySelector('.fa-bell').classList.replace('fa-bell', 'fa-bell-slash');
            }, 300);

            const badge = element.querySelector('.unread-badge');
            if (badge) {
                badge.classList.add('fade-out');
                setTimeout(() => badge.remove(), 300);
            }

            const globalBadge = document.querySelector('.notification-badge');
            if (globalBadge) {
                globalBadge.classList.add('update');
                setTimeout(() => {
                    const count = parseInt(globalBadge.textContent);
                    globalBadge.textContent = count - 1;
                    globalBadge.classList.remove('update');
                    if (count === 1) globalBadge.remove();
                }, 200);
            }
        }
    })
    .catch(error => console.error('Error:', error));
}

// Close dropdown with animation
document.addEventListener('click', function(e) {
    if (!e.target.closest('.notification-menu-item')) {
        const container = document.querySelector('.notification-container');
        if (container) {
            container.classList.add('hidden');
            setTimeout(() => {
                container.style.opacity = 0;
                container.style.transform = 'translateY(-10px)';
            }, 200);
        }
    }
});
</script>


<script>
	// File input handling
	document.querySelectorAll('.custom-file-input').forEach(input => {
		input.addEventListener('change', function(e) {
			const label = this.nextElementSibling;
			if(this.files && this.files.length > 0) {
				label.textContent = this.files[0].name;
				
				// Handle cover image preview
				if(this.id === 'coverImage' && this.files[0]) {
					const reader = new FileReader();
					const preview = document.getElementById('coverPreview');
					const previewContainer = preview.parentElement;
					
					previewContainer.style.display = 'block';
					reader.onload = function(e) {
						preview.src = e.target.result;
						preview.style.display = 'block';
					}
					reader.readAsDataURL(this.files[0]);
				}
			} else {
				label.textContent = 'Choose file...';
			}
		});
	});
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Circular progress animation
    const circularProgress = document.querySelector(".circular-progress");
    const progressValue = document.querySelector(".progress-value");
    
    if (circularProgress) {
        let progressStartValue = 0;
        const progressEndValue = parseInt(circularProgress.getAttribute("data-value"));
        const speed = 20;
        
        const progress = setInterval(() => {
            progressStartValue++;
            progressValue.textContent = `${progressStartValue}%`;
            circularProgress.style.background = `conic-gradient(#4361ee ${progressStartValue * 3.6}deg, #e9ecef 0deg)`;
            
            if (progressStartValue === progressEndValue) {
                clearInterval(progress);
            }
        }, speed);
    }

    // Assignment status tooltips
    const statusBadges = document.querySelectorAll('.cd-assignment-status');
    statusBadges.forEach(badge => {
        badge.addEventListener('mouseover', function() {
            // Add tooltip functionality here
        });
    });
});
</script>
</body>

<!-- Mirrored from educhamp.themetrades.com/demo/admin/courses.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Feb 2019 13:11:35 GMT -->
</html>